---
- name: Setup dotfiles
  hosts: default
  tasks:
    - name: Install packages with apt
      become: yes
      ansible.builtin.apt:
        name:
          - bat
          - i3
          - kitty
          - neovim
          - tmux
          - zsh
        state: present

    - name: Run Oh My Zsh installation script
      shell: |
        sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
      become: no
      environment:
        ZSH: "/home/{{ ansible_user_id }}/.oh-my-zsh"
